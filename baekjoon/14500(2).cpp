#include <iostream>
using namespace std;
#define SIZE 19

int mx[SIZE][4] = {
        {0,1,2,3}, // 0
        {0,0,0,0}, // 1
        {0,1,0,1}, // 2
        {0,0,0,1}, // 3
        {0,1,2,2}, // 4
        {0,1,1,1}, // 5
        {0,0,1,2}, // 6
        {1,1,1,0}, // 7
        {0,0,1,2}, // 8
        {0,0,0,1}, // 9
        {0,1,2,2}, // 10
        {0,1,1,2}, // 11
        {0,0,1,1}, // 12
        {0,1,1,2}, // 13
        {1,1,0,0}, // 14
        {0,1,2,1}, // 15
        {0,0,0,1}, // 16
        {0,1,2,1}, // 17
        {1,1,1,0} // 18
};

int my[SIZE][4] = {
        {0, 0, 0, 0}, // 0
        {0, 1, 2, 3}, // 1
        {0, 0, 1, 1}, // 2
        {0, 1, 2, 2}, // 3
        {1, 1, 1, 0}, // 4
        {0, 0, 1, 2}, // 5
        {1, 0, 0, 0}, // 6
        {0, 1, 2, 2}, // 7
        {0, 1, 1, 1}, // 8
        {2, 1, 0, 0}, // 9
        {0, 0, 0, 1}, // 10
        {1, 1, 0, 0}, // 11
        {0, 1, 1, 2}, // 12
        {0, 0, 1, 1}, // 13
        {0, 1, 1, 2}, // 14
        {1, 1, 1, 0}, // 15
        {0, 1, 2, 1}, // 16
        {0, 0, 0, 1}, // 17
        {0, 1, 2, 1} // 18
};

int main()
{
    int h, w;
    cin >> h >> w;
    int d[501][501];

    for(int i = 0; i < h; i++) {
        for(int j = 0; j < w; j++) {
            cin >> d[i][j];
        }
    }

    int res = 0;
    for(int v = 0; v < SIZE; v++) {
        for(int r = 0; r < h; r++) {
            for(int c = 0; c < w; c++) {
                int sum = 0;
                // 4개의 영역 탐색
                for(int t = 0; t < 4; t++) {
                    int nr = r + my[v][t];
                    int nc = c + mx[v][t];
                    // 숫자판 영역 안에 있는지 체크
                    if(nc >= 0 && nc < w && nr >= 0 && nr < h)
                        sum += d[nr][nc]; // 안에 있으면 sum에 합산
                }
                res = (res < sum) ? sum : res;
            }
        }
    }
    cout << res;
}


